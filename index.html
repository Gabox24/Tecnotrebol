<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>TECNO TREBOL - Catálogo</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<style>
/* MANTENEMOS TU DISEÑO MORADO ORIGINAL */
body{font-family:'Poppins', Arial, sans-serif;margin:0;background:#f5f5f5;color:#222}
header{
  background: linear-gradient(to right, #4b0082, #191970); 
  color:#fff; padding:15px 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.header-container{max-width:1200px;margin:auto;display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;gap:15px;}
.logo { font-size: 22px; font-weight: 900; font-style: italic; text-transform: uppercase; text-shadow: 2px 2px 0px #000; }

/* FORMATO 2 COLUMNAS EN MÓVIL */
.container{max-width:1200px;margin:auto;padding:10px}
.grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr); /* 2 productos por fila en teléfono */
  gap:10px;
}
@media (min-width: 768px) {
  .grid { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap:20px; }
}

.card{background:#fff; padding:10px; border-radius:10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align:center;}
.card img{width:100%; height:130px; object-fit:cover; border-radius:8px;}
.price{color:#52368c; font-weight:bold; font-size:16px; margin:8px 0;}
.btn{padding:8px; border-radius:8px; border:0; cursor:pointer; width:100%; font-weight:600; font-size:12px;}
.btn-detail{background:#52368c; color:white; margin-bottom:5px;}
.btn-contact{background:#25D366; color:white; text-decoration:none; display:block;}

.search-box{background:#fff; border-radius:25px; display:flex; padding:2px 15px; flex-grow:1; max-width:400px; align-items:center;}
.search-box input{border:0; outline:none; width:100%; padding:8px;}
</style>
</head>
<body>

<header>
  <div class="header-container">
    <div class="logo">TECNO TREBOL</div>
    <div class="search-box">
        <input type="text" id="busInput" placeholder="Buscar..." onkeyup="buscar()">
    </div>
  </div>
</header>

<div class="container">
    <div id="productos" class="grid"></div>
</div>

<script>
// CONEXIÓN A TU FIREBASE
const URL_DB = "https://tecnotrebol-67a34-default-rtdb.firebaseio.com/productos.json";
let productos = [];

async function cargar() {
    const res = await fetch(URL_DB);
    const datos = await res.json();
    productos = datos ? Object.values(datos) : [];
    render(productos);
}

function render(lista) {
    const div = document.getElementById("productos");
    div.innerHTML = "";
    lista.forEach((p, i) => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
            <img src="${p.foto}">
            <h4 style="font-size:13px; margin:8px 0;">${p.nombre}</h4>
            <div class="price">${p.precio}</div>
            <button class="btn btn-detail" onclick="alert('${p.descripcion}')">Detalles</button>
            <a class="btn btn-contact" href="https://wa.me/584249853350?text=Hola, me interesa: ${p.nombre}">WhatsApp</a>
        `;
        div.appendChild(card);
    });
}

function buscar() {
    const f = document.getElementById("busInput").value.toLowerCase();
    render(productos.filter(p => p.nombre.toLowerCase().includes(f)));
}

cargar();
</script>
</body>
</html>
